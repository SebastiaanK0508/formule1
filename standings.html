<!DOCTYPE html>
<html lang="nl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Formula 1 Season 2025 - Drivers</title>
    <!--<link rel="stylesheet" href="style.css">-->
    <link rel="stylesheet" href="style.css">
    <style>
        #f1-standings-container table {
    width: 100%;
    border-collapse: collapse;
    margin-top: 20px;
}
#f1-standings-container th, #f1-standings-container td {
    border: 1px solid #ddd;
    padding: 8px;
    text-align: left;
}
#f1-standings-container th {
    background-color: #f2f2f2;
}
#f1-standings-container h2 {
    margin-top: 30px;
    font-size: 1.5em;
}
    </style>
</head>
<body>
    <header>
        <div class="header-content container">
            <h1 class="site-title">Formula 1 Season 2025</h1>
            <nav class="main-nav">
                <a href="index.php">Home</a>
                <a href="kalender.html">Schedule</a>
                <a href="teams.php" >Teams</a>
                <a href="drivers.php">Drivers</a>
                <a href="standings.html" class="active">Standings</a>
            </nav>
        </div>
    </header>

<div id="f1-standings-container">
    <p>F1 klassement wordt geladen...</p>
</div>
<script>
async function loadF1Standings() {
    const container = document.getElementById('f1-standings-container');
    container.innerHTML = '<p>Laden van F1 klassement...</p>'; // Laadbericht

    try {
        // Roep de Ergast API aan voor de huidige coureursstanden
        const response = await fetch('https://ergast.com/api/f1/current/driverStandings.json');
        if (!response.ok) {
            throw new Error(`HTTP error! status: ${response.status}`);
        }
        const data = await response.json();

        // Controleer of de benodigde data aanwezig is
        const standingsList = data.MRData.StandingsTable.StandingsLists;
        if (!standingsList || standingsList.length === 0) {
            container.innerHTML = '<p>Geen klassement data beschikbaar op dit moment.</p>';
            return;
        }

        const driverStandings = standingsList[0].DriverStandings;

        let tableHTML = '<h2>F1 Coureurs Kampioenschap</h2>';
        tableHTML += '<table>';
        tableHTML += '<thead><tr><th>Pos</th><th>Coureur</th><th>Team</th><th>Punten</th></tr></thead>';
        tableHTML += '<tbody>';

        driverStandings.forEach(driver => {
            tableHTML += `
                <tr>
                    <td>${driver.position}</td>
                    <td>${driver.Driver.givenName} ${driver.Driver.familyName}</td>
                    <td>${driver.Constructors[0].name}</td>
                    <td>${driver.points}</td>
                </tr>
            `;
        });
        tableHTML += '</tbody></table>';

        // Voeg ook constructeurskampioenschap toe voor de volledigheid
        const constructorResponse = await fetch('https://ergast.com/api/f1/current/constructorStandings.json');
        if (!constructorResponse.ok) {
            throw new Error(`HTTP error! status: ${constructorResponse.status}`);
        }
        const constructorData = await constructorResponse.json();
        const constructorStandingsList = constructorData.MRData.StandingsTable.StandingsLists;

        if (constructorStandingsList && constructorStandingsList.length > 0) {
            const constructorStandings = constructorStandingsList[0].ConstructorStandings;
            tableHTML += '<h2>F1 Constructeurs Kampioenschap</h2>';
            tableHTML += '<table>';
            tableHTML += '<thead><tr><th>Pos</th><th>Team</th><th>Punten</th></tr></thead>';
            tableHTML += '<tbody>';

            constructorStandings.forEach(constructor => {
                tableHTML += `
                    <tr>
                        <td>${constructor.position}</td>
                        <td>${constructor.Constructor.name}</td>
                        <td>${constructor.points}</td>
                    </tr>
                `;
            });
            tableHTML += '</tbody></table>';
        }

        container.innerHTML = tableHTML;

    } catch (error) {
        console.error('Fout bij ophalen F1 klassement:', error);
        container.innerHTML = '<p>Er is een probleem opgetreden bij het laden van het klassement. Probeer het later opnieuw.</p>';
    }
}

// Roep de functie aan wanneer de pagina geladen is
document.addEventListener('DOMContentLoaded', loadF1Standings);

// Optioneel: Update het klassement periodiek (bijv. elke 5 minuten)
// Dit is handig voor tijdens een raceweekend, maar houd rekening met API-limieten.
// setInterval(loadF1Standings, 5 * 60 * 1000); // 5 minuten in milliseconden
</script>
</body>
</html>